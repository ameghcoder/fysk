{
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "input",
    "title": "Input",
    "type": "registry:ui",
    "description": "Displays a form input field that handles state for you.",
    "dependencies": [
        "class-variance-authority"
    ],
    "registryDependencies": [
        "utils",
        "https://fysk.dev/r/fysk-provider.json"
    ],
    "files": [
        {
            "path": "fysk/input.tsx",
            "type": "registry:ui",
            "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { useFyskConfig, type FyskIconPosition } from \"@/components/fysk-provider\"\r\n\r\nconst inputVariants = cva(\r\n    \"flex h-10 w-full rounded-md px-3 py-2 text-base transition-all file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 disabled:cursor-not-allowed disabled:opacity-50\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: \"border border-border/50 bg-background\",\r\n                filled: \"border-transparent bg-muted focus:bg-background border-border/50\",\r\n                double: \"border-2 border-border bg-transparent focus:border-border focus-visible:ring-2 focus-visible:ring-ring/30\",\r\n                ghost: \"border-transparent bg-transparent hover:bg-muted focus:bg-background border-border\",\r\n                deep: \"border border-border/50 bg-muted/20 shadow-[inset_0px_-1px_2px_0px_#00000052] focus:bg-background\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface InputProps\r\n    extends React.InputHTMLAttributes<HTMLInputElement>,\r\n    VariantProps<typeof inputVariants> {\r\n    state?: \"idle\" | \"loading\" | \"success\" | \"error\"\r\n    icon?: React.ReactNode\r\n    iconLoading?: React.ReactNode\r\n    iconSuccess?: React.ReactNode\r\n    iconError?: React.ReactNode\r\n    iconPosition?: FyskIconPosition\r\n}\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n    (\r\n        {\r\n            className,\r\n            variant,\r\n            type,\r\n            state = \"idle\",\r\n            icon,\r\n            iconLoading: propIconLoading,\r\n            iconSuccess: propIconSuccess,\r\n            iconError: propIconError,\r\n            iconPosition: propIconPosition,\r\n            ...props\r\n        },\r\n        ref\r\n    ) => {\r\n        const config = useFyskConfig()\r\n\r\n        const isLoading = state === \"loading\"\r\n        const isSuccess = state === \"success\"\r\n        const isError = state === \"error\"\r\n\r\n        const activeIconPosition = propIconPosition || config.iconPosition || \"start\"\r\n        const finalIconLoading = propIconLoading || config.icons?.loading\r\n        const finalIconSuccess = propIconSuccess || config.icons?.success\r\n        const finalIconError = propIconError || config.icons?.error\r\n\r\n        const activeIcon = () => {\r\n            if (isLoading) return finalIconLoading\r\n            if (isSuccess) return finalIconSuccess\r\n            if (isError) return finalIconError\r\n            return icon\r\n        }\r\n\r\n        const currentIcon = activeIcon()\r\n\r\n        if (!currentIcon) {\r\n            return (\r\n                <input\r\n                    type={type}\r\n                    className={cn(inputVariants({ variant, className }))}\r\n                    ref={ref}\r\n                    {...props}\r\n                />\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"relative flex items-center w-full\">\r\n                {activeIconPosition === \"start\" && (\r\n                    <div className=\"absolute left-3 flex items-center pointer-events-none text-muted-foreground [&_svg]:size-4\">\r\n                        {currentIcon}\r\n                    </div>\r\n                )}\r\n                <input\r\n                    type={type}\r\n                    className={cn(\r\n                        inputVariants({ variant, className }),\r\n                        currentIcon && activeIconPosition === \"start\" && \"pl-10\",\r\n                        currentIcon && activeIconPosition === \"end\" && \"pr-10\"\r\n                    )}\r\n                    ref={ref}\r\n                    {...props}\r\n                />\r\n                {activeIconPosition === \"end\" && (\r\n                    <div className=\"absolute right-3 flex items-center pointer-events-none text-muted-foreground [&_svg]:size-4\">\r\n                        {currentIcon}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input, inputVariants }\r\n"
        }
    ]
}