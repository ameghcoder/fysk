{
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "tooltip",
    "title": "Tooltip",
    "type": "registry:ui",
    "description": "A popup that displays information related to an element when the element receives keyboard focus or the mouse hovers over it.",
    "dependencies": [
        "@radix-ui/react-tooltip",
        "class-variance-authority"
    ],
    "registryDependencies": [
        "utils",
        "https://fysk.dev/r/kbd.json"
    ],
    "files": [
        {
            "path": "fysk/tooltip.tsx",
            "type": "registry:ui",
            "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { Kbd } from \"@/components/fysk/kbd\"\r\n\r\n// --- Context ---\r\ninterface TooltipContextValue {\r\n    variant?: \"default\" | \"outline\" | \"glass\" | \"glow\" | \"neon\"\r\n    size?: \"sm\" | \"md\" | \"lg\"\r\n}\r\n\r\nconst TooltipContext = React.createContext<TooltipContextValue>({})\r\n\r\nconst Tooltip = ({\r\n    children,\r\n    variant,\r\n    size,\r\n    delayDuration,\r\n    skipDelayDuration,\r\n    disableHoverableContent,\r\n    ...props\r\n}: TooltipPrimitive.TooltipProviderProps &\r\n    React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Root> &\r\n    TooltipContextValue) => (\r\n    <TooltipPrimitive.Provider\r\n        delayDuration={delayDuration}\r\n        skipDelayDuration={skipDelayDuration}\r\n        disableHoverableContent={disableHoverableContent}\r\n    >\r\n        <TooltipPrimitive.Root {...props}>\r\n            <TooltipContext.Provider value={{ variant, size }}>\r\n                {children}\r\n            </TooltipContext.Provider>\r\n        </TooltipPrimitive.Root>\r\n    </TooltipPrimitive.Provider>\r\n)\r\nconst TooltipTrigger = TooltipPrimitive.Trigger\r\nconst TooltipPortal = TooltipPrimitive.Portal\r\n\r\nconst tooltipVariants = cva(\r\n    \"z-50 overflow-hidden rounded-md border px-3 py-1.5 shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 selection:bg-primary selection:text-primary-foreground\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: \"bg-primary text-primary-foreground border-primary\",\r\n                outline: \"bg-background border-border text-foreground\",\r\n                glass: \"bg-background/60 backdrop-blur-md border-border/50 text-foreground shadow-lg supports-[backdrop-filter]:bg-background/60\",\r\n                glow: \"bg-background/90 border-primary/50 text-foreground shadow-[0_0_20px_rgba(var(--primary),0.2)]\",\r\n                neon: \"bg-foreground/95 border-primary text-background shadow-[0_0_10px_rgba(var(--primary),0.5)]\",\r\n            },\r\n            size: {\r\n                sm: \"px-2 py-1 text-[10px]\",\r\n                md: \"px-3 py-1.5 text-xs\",\r\n                lg: \"px-4 py-2 text-sm\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n            size: \"md\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface TooltipContentProps\r\n    extends Omit<React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>, \"title\">,\r\n    VariantProps<typeof tooltipVariants> {\r\n    /**\r\n     * Keyboard shortcut to display (e.g. \"âŒ˜+C\" or [\"Cmd\", \"C\"])\r\n     */\r\n    shortcut?: string | string[]\r\n    /**\r\n     * Title text for rich tooltips\r\n     */\r\n    title?: React.ReactNode\r\n    /**\r\n     * Description text for rich tooltips\r\n     */\r\n    description?: React.ReactNode\r\n    /**\r\n     * Whether to show the arrow\r\n     */\r\n    showArrow?: boolean\r\n    /**\r\n     * Alias for side\r\n     */\r\n    side?: React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>[\"side\"]\r\n}\r\n\r\nconst TooltipContent = React.forwardRef<\r\n    React.ComponentRef<typeof TooltipPrimitive.Content>,\r\n    TooltipContentProps\r\n>(({ className, variant: propsVariant, size: propsSize, sideOffset = 4, shortcut, title, description, showArrow, side: propsSide, children, ...props }, ref) => {\r\n    const context = React.useContext(TooltipContext)\r\n\r\n    // Resolve variant and size from props or context\r\n    const variant = propsVariant || context.variant || \"default\"\r\n    const size = propsSize || context.size || \"md\"\r\n\r\n    // Resolve aliases\r\n    const shouldShowArrow = showArrow\r\n    const resolvedSide = propsSide || \"top\"\r\n\r\n    // Parse shortcut\r\n    const shortcutKeys = React.useMemo(() => {\r\n        if (!shortcut) return undefined\r\n        if (Array.isArray(shortcut)) return shortcut\r\n        return shortcut.split('+').map(k => k.trim())\r\n    }, [shortcut])\r\n\r\n    const getKbdClassName = () => {\r\n        if (variant === \"default\") return \"bg-primary-foreground/20 border-primary-foreground/30 text-primary-foreground\"\r\n        if (variant === \"neon\") return \"border-background/30 text-background bg-background/20\"\r\n        return \"\"\r\n    }\r\n\r\n    return (\r\n        <TooltipPrimitive.Content\r\n            ref={ref}\r\n            sideOffset={sideOffset}\r\n            side={resolvedSide}\r\n            className={cn(tooltipVariants({ variant, size }), className)}\r\n            {...props}\r\n        >\r\n            <div className=\"flex flex-col gap-0.5 max-w-[300px]\">\r\n                {/* Header Row: Title & Shortcut (or Children & Shortcut if simple) */}\r\n                <div className={cn(\"flex items-center justify-between gap-4\", (title || description) && \"mb-0.5\")}>\r\n                    {title && <span className=\"font-bold tracking-tight\">{title}</span>}\r\n\r\n                    {/* If no title, children are the main content in this row unless description exists */}\r\n                    {!title && !description && children}\r\n\r\n                    {shortcutKeys && (\r\n                        <Kbd\r\n                            keys={shortcutKeys}\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            className={cn(\r\n                                \"ml-auto h-5 min-h-0 py-0 text-[10px]\",\r\n                                getKbdClassName()\r\n                            )}\r\n                        />\r\n                    )}\r\n                </div>\r\n\r\n                {/* Description */}\r\n                {description && (\r\n                    <p className={cn(\r\n                        \"font-normal leading-snug\",\r\n                        variant === \"default\" || variant === \"neon\" ? \"opacity-80\" : \"text-muted-foreground\"\r\n                    )}>\r\n                        {description}\r\n                    </p>\r\n                )}\r\n\r\n                {/* Children (if Title or Desc present, render children below) */}\r\n                {(title || description) && children && (\r\n                    <div className=\"mt-1.5 pt-1.5 border-t border-glass-border/10 opacity-90\">\r\n                        {children}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {shouldShowArrow && (\r\n                <TooltipPrimitive.Arrow\r\n                    className={cn(\r\n                        \"fill-current\",\r\n                        variant === \"default\" && \"text-primary\",\r\n                        variant === \"outline\" && \"text-background stroke-border\",\r\n                        variant === \"glass\" && \"text-background/60 stroke-border/50\",\r\n                        variant === \"neon\" && \"text-foreground\",\r\n                        variant === \"glow\" && \"text-background/90\"\r\n                    )}\r\n                />\r\n            )}\r\n        </TooltipPrimitive.Content>\r\n    )\r\n})\r\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\r\n\r\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipPortal }\r\n\r\n"
        }
    ]
}