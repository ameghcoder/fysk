{
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "input",
    "title": "Input",
    "type": "registry:ui",
    "description": "Displays a form input field that handles state for you.",
    "dependencies": [
        "class-variance-authority"
    ],
    "registryDependencies": [
        "utils",
        "https://fysk.dev/r/fysk-provider.json"
    ],
    "files": [
        {
            "path": "fysk/input.tsx",
            "type": "registry:ui",
            "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { useFyskConfig, type FyskIconPosition } from \"@/components/fysk-provider\"\r\n\r\nconst inputVariants = cva(\r\n    \"flex h-9 w-full min-w-0 rounded-md px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: \"border border-input bg-transparent dark:bg-input/30\",\r\n                filled: \"border border-transparent bg-muted focus:bg-background focus:border-input\",\r\n                double: \"border-2 border-border bg-transparent focus:border-ring/50\",\r\n                ghost: \"border border-transparent bg-transparent hover:bg-muted focus:bg-background\",\r\n                deep: \"border border-border/50 bg-muted/20 shadow-[inset_0px_1px_2px_0px_rgba(0,0,0,0.05)] focus:bg-background\",\r\n                glass: \"bg-foreground/5 backdrop-blur-md border border-border/50 text-foreground placeholder:text-muted-foreground/50 focus:bg-foreground/10\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface InputProps\r\n    extends React.InputHTMLAttributes<HTMLInputElement>,\r\n    VariantProps<typeof inputVariants> {\r\n    state?: \"idle\" | \"loading\" | \"success\" | \"error\"\r\n    /** The icon to display at the start or end. */\r\n    icon?: React.ReactNode\r\n    /** Custom loading icon to override the global default. */\r\n    iconLoading?: React.ReactNode\r\n    /** Custom success icon to override the global default. */\r\n    iconSuccess?: React.ReactNode\r\n    /** Custom error icon to override the global default. */\r\n    iconError?: React.ReactNode\r\n    /** Override the global icon position. */\r\n    iconPosition?: FyskIconPosition\r\n    /** Callback when the icon is clicked. If provided, the icon wrapper will be a button. */\r\n    onIconClick?: (e: React.MouseEvent<HTMLButtonElement>) => void\r\n}\r\n\r\nimport { useFyskAnimation } from \"@/components/hooks/useFyskAnimation\"\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n    (\r\n        {\r\n            className,\r\n            variant,\r\n            type,\r\n            state = \"idle\",\r\n            icon,\r\n            iconLoading: propIconLoading,\r\n            iconSuccess: propIconSuccess,\r\n            iconError: propIconError,\r\n            iconPosition: propIconPosition,\r\n            onIconClick,\r\n            ...props\r\n        },\r\n        ref\r\n    ) => {\r\n        const config = useFyskConfig()\r\n        const { isEnabled, motion, AnimatePresence, variants } = useFyskAnimation()\r\n\r\n        const isLoading = state === \"loading\"\r\n        const isSuccess = state === \"success\"\r\n        const isError = state === \"error\"\r\n\r\n        const activeIconPosition = propIconPosition || config.iconPosition || \"start\"\r\n        const finalIconLoading = propIconLoading || config.icons?.loading\r\n        const finalIconSuccess = propIconSuccess || config.icons?.success\r\n        const finalIconError = propIconError || config.icons?.error\r\n\r\n        const activeIcon = () => {\r\n            if (isLoading) return finalIconLoading\r\n            if (isSuccess) return finalIconSuccess\r\n            if (isError) return finalIconError\r\n            return icon\r\n        }\r\n\r\n        const currentIcon = activeIcon()\r\n\r\n        const renderIcon = () => {\r\n            if (!currentIcon && state === \"idle\") return null\r\n\r\n            const commonClasses = cn(\r\n                \"absolute flex items-center justify-center text-muted-foreground [&_svg]:size-4\",\r\n                activeIconPosition === \"start\" ? \"left-3\" : \"right-3\"\r\n            )\r\n\r\n            return (\r\n                <AnimatePresence mode=\"wait\">\r\n                    {currentIcon && (\r\n                        <motion.div\r\n                            key={state + (currentIcon ? \"has-icon\" : \"no-icon\")}\r\n                            {...(isEnabled && variants ? variants.iconPop : {})}\r\n                            className={commonClasses}\r\n                        >\r\n                            {onIconClick ? (\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={onIconClick}\r\n                                    className=\"pointer-events-auto cursor-pointer hover:text-foreground transition-all outline-none focus-visible:ring-2 focus-visible:ring-ring rounded-sm active:scale-90\"\r\n                                >\r\n                                    {currentIcon}\r\n                                </button>\r\n                            ) : (\r\n                                <div className=\"pointer-events-none\">\r\n                                    {currentIcon}\r\n                                </div>\r\n                            )}\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"relative flex items-center w-full\">\r\n                {activeIconPosition === \"start\" && renderIcon()}\r\n                <input\r\n                    type={type}\r\n                    className={cn(\r\n                        inputVariants({ variant, className }),\r\n                        currentIcon && activeIconPosition === \"start\" && \"pl-10\",\r\n                        currentIcon && activeIconPosition === \"end\" && \"pr-10\",\r\n                        isSuccess && \"border-green-500/50\",\r\n                        isError && \"border-destructive/50\"\r\n                    )}\r\n                    ref={ref}\r\n                    {...props}\r\n                />\r\n                {activeIconPosition === \"end\" && renderIcon()}\r\n            </div>\r\n        )\r\n    }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input, inputVariants }\r\n\r\n"
        }
    ]
}