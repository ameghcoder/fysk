{
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "button",
    "title": "Button",
    "type": "registry:ui",
    "description": "Standard button with multiple variants with built in state handling.",
    "dependencies": [
        "@radix-ui/react-slot",
        "class-variance-authority"
    ],
    "registryDependencies": [
        "utils",
        "https://fysk.dev/r/fysk-provider.json"
    ],
    "files": [
        {
            "path": "fysk/button.tsx",
            "type": "registry:ui",
            "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { useFyskConfig, type FyskIconPosition } from \"@/components/fysk-provider\"\r\n\r\nconst buttonVariants = cva(\r\n    \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                primary: \"bg-primary text-primary-foreground hover:opacity-90 active:scale-[0.98] shadow-sm\",\r\n                secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80 active:scale-[0.98]\",\r\n                outline: \"border border-border/50 bg-transparent hover:bg-muted text-foreground active:scale-[0.98]\",\r\n                ghost: \"hover:bg-muted hover:text-accent-foreground\",\r\n                link: \"text-primary underline-offset-4 hover:underline\",\r\n            },\r\n            size: {\r\n                sm: \"h-8 px-3 text-xs\",\r\n                md: \"h-10 px-4\",\r\n                lg: \"h-12 px-8 text-base\",\r\n                xl: \"h-14 px-10 text-base\",\r\n                icon: \"h-10 w-10\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"primary\",\r\n            size: \"md\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n    asChild?: boolean\r\n    state?: \"idle\" | \"loading\" | \"success\" | \"error\"\r\n    loadingText?: string\r\n    successText?: string\r\n    errorText?: string\r\n    /** The icon to show when the button is in the 'idle' state. */\r\n    icon?: React.ReactNode\r\n    /** Custom loading icon to override the global default. */\r\n    iconLoading?: React.ReactNode\r\n    /** Custom success icon to override the global default. */\r\n    iconSuccess?: React.ReactNode\r\n    /** Custom error icon to override the global default. */\r\n    iconError?: React.ReactNode\r\n    /** Override the global icon position. */\r\n    iconPosition?: FyskIconPosition\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    (\r\n        {\r\n            className,\r\n            variant,\r\n            size,\r\n            asChild = false,\r\n            state = \"idle\",\r\n            loadingText,\r\n            successText,\r\n            errorText,\r\n            icon,\r\n            iconLoading: propIconLoading,\r\n            iconSuccess: propIconSuccess,\r\n            iconError: propIconError,\r\n            iconPosition: propIconPosition,\r\n            children,\r\n            ...props\r\n        },\r\n        ref\r\n    ) => {\r\n        const config = useFyskConfig()\r\n\r\n        const isLoading = state === \"loading\"\r\n        const isSuccess = state === \"success\"\r\n        const isError = state === \"error\"\r\n\r\n        // Hierarchical Icon Lookup\r\n        const activeIconPosition = propIconPosition || config.iconPosition || \"start\"\r\n\r\n        const finalIconLoading = propIconLoading || config.icons?.loading\r\n        const finalIconSuccess = propIconSuccess || config.icons?.success\r\n        const finalIconError = propIconError || config.icons?.error\r\n\r\n        const renderIcon = () => {\r\n            if (isLoading) return finalIconLoading\r\n            if (isSuccess) return finalIconSuccess\r\n            if (isError) return finalIconError\r\n            return icon // If idle, use the provided idle icon\r\n        }\r\n\r\n        const renderText = () => {\r\n            if (isLoading) return loadingText || children\r\n            if (isSuccess) return successText || children\r\n            if (isError) return errorText || children\r\n            return children\r\n        }\r\n\r\n        const activeIcon = renderIcon()\r\n        const Comp = asChild ? Slot : \"button\"\r\n\r\n        return (\r\n            <Comp\r\n                className={cn(\r\n                    buttonVariants({ variant, size, className }),\r\n                    activeIconPosition === \"end\" && \"flex-row-reverse\",\r\n                    isSuccess && \"border-[#22c55e]/50\",\r\n                    isError && \"border-destructive/50\"\r\n                )}\r\n                ref={ref}\r\n                disabled={isLoading || props.disabled}\r\n                data-state={state}\r\n                {...props}\r\n            >\r\n                {asChild ? children :\r\n                    <>\r\n                        {activeIcon && <span className=\"inline-flex shrink-0\">{activeIcon}</span>}\r\n                        {renderText()}\r\n                    </>\r\n                }\r\n            </Comp>\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n\r\n"
        }
    ]
}