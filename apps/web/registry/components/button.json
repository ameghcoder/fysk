{
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "button",
    "title": "Button",
    "type": "registry:ui",
    "description": "Standard button with multiple variants with built in state handling.",
    "dependencies": [
        "@radix-ui/react-slot",
        "class-variance-authority"
    ],
    "registryDependencies": [
        "utils",
        "https://fysk.dev/r/fysk-provider.json",
        "https://fysk.dev/r/fysk-hooks.json"
    ],
    "files": [
        {
            "path": "fysk/button.tsx",
            "type": "registry:ui",
            "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { useFyskConfig, type FyskIconPosition } from \"@/components/fysk-provider\"\r\nimport { useFyskAnimation } from \"@/components/hooks/useFyskAnimation\"\r\n\r\nconst buttonVariants = cva(\r\n    \"inline-flex cursor-pointer items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive overflow-hidden border border-transparent\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: \"bg-primary text-primary-foreground hover:bg-primary/90 active:scale-[0.98] shadow-xs\",\r\n                secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80 active:scale-[0.98] shadow-xs\",\r\n                outline: \"border-border bg-background text-foreground shadow-xs hover:bg-accent hover:text-accent-foreground active:scale-[0.98]\",\r\n                ghost: \"hover:bg-accent hover:text-accent-foreground active:scale-[0.98]\",\r\n                link: \"text-primary underline-offset-4 hover:underline\",\r\n                destructive: \"bg-destructive text-destructive-foreground shadow-xs hover:bg-destructive/90 active:scale-[0.98]\",\r\n                glass: \"bg-foreground/10 backdrop-blur-md border-border/50 text-foreground hover:bg-foreground/15 active:scale-[0.98] shadow-xs\",\r\n            },\r\n            size: {\r\n                sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\r\n                md: \"h-9 px-4 py-2 has-[>svg]:px-3\",\r\n                lg: \"h-11 px-8 py-3 has-[>svg]:px-4\",\r\n                xl: \"h-12 px-10 py-4 has-[>svg]:px-5\",\r\n                icon: \"h-9 w-9\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n            size: \"md\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n    asChild?: boolean\r\n    state?: \"idle\" | \"loading\" | \"success\" | \"error\"\r\n    loadingText?: string\r\n    successText?: string\r\n    errorText?: string\r\n    /** The icon to show when the button is in the 'idle' state. */\r\n    icon?: React.ReactNode\r\n    /** Custom loading icon to override the global default. */\r\n    iconLoading?: React.ReactNode\r\n    /** Custom success icon to override the global default. */\r\n    iconSuccess?: React.ReactNode\r\n    /** Custom error icon to override the global default. */\r\n    iconError?: React.ReactNode\r\n    /** Override the global icon position. */\r\n    iconPosition?: FyskIconPosition\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    (\r\n        {\r\n            className,\r\n            variant,\r\n            size,\r\n            asChild = false,\r\n            state = \"idle\",\r\n            loadingText,\r\n            successText,\r\n            errorText,\r\n            icon,\r\n            iconLoading: propIconLoading,\r\n            iconSuccess: propIconSuccess,\r\n            iconError: propIconError,\r\n            iconPosition: propIconPosition,\r\n            children,\r\n            ...props\r\n        },\r\n        ref\r\n    ) => {\r\n        const config = useFyskConfig()\r\n        const { isEnabled, motion, AnimatePresence, transitions, variants } = useFyskAnimation()\r\n\r\n        const isLoading = state === \"loading\"\r\n        const isSuccess = state === \"success\"\r\n        const isError = state === \"error\"\r\n\r\n        // Hierarchical Icon Lookup\r\n        const activeIconPosition = propIconPosition || config.iconPosition || \"start\"\r\n\r\n        const finalIconLoading = propIconLoading || config.icons?.loading\r\n        const finalIconSuccess = propIconSuccess || config.icons?.success\r\n        const finalIconError = propIconError || config.icons?.error\r\n\r\n        const renderIcon = () => {\r\n            if (isLoading) return finalIconLoading\r\n            if (isSuccess) return finalIconSuccess\r\n            if (isError) return finalIconError\r\n            return icon\r\n        }\r\n\r\n        const renderText = () => {\r\n            if (isLoading) return loadingText || children\r\n            if (isSuccess) return successText || children\r\n            if (isError) return errorText || children\r\n            return children\r\n        }\r\n\r\n        const activeIcon = renderIcon()\r\n        const activeText = renderText()\r\n        const Comp = asChild ? Slot : (isEnabled ? motion.button : \"button\")\r\n\r\n        return (\r\n            <Comp\r\n                {...(isEnabled && !asChild ? {\r\n                    layout: true,\r\n                    transition: transitions?.layoutEnter\r\n                } : {})}\r\n                className={cn(\r\n                    buttonVariants({ variant, size, className })\r\n                )}\r\n                ref={ref}\r\n                disabled={isLoading || props.disabled}\r\n                data-state={state}\r\n                {...props}\r\n            >\r\n                {asChild ? children : (\r\n                    <AnimatePresence {...(isEnabled ? { mode: \"wait\", initial: false } : {})}>\r\n                        <motion.span\r\n                            key={state}\r\n                            {...(isEnabled && variants ? {\r\n                                layout: true,\r\n                                ...variants.fadeSlide,\r\n                                transition: transitions?.content\r\n                            } : {})}\r\n                            className={`inline-flex items-center justify-center gap-2 ${activeIconPosition === \"end\" && \"flex-row-reverse\"}`}\r\n                        >\r\n                            {activeIcon && (\r\n                                <motion.span\r\n                                    {...(isEnabled && variants ? {\r\n                                        layout: true,\r\n                                        ...variants.iconPop\r\n                                    } : {})}\r\n                                    className=\"inline-flex shrink-0\"\r\n                                >\r\n                                    {activeIcon}\r\n                                </motion.span>\r\n                            )}\r\n                            {activeText}\r\n                        </motion.span>\r\n                    </AnimatePresence>\r\n                )}\r\n            </Comp>\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n\r\n\r\n"
        }
    ]
}